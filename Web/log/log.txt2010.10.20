2010-10-20 11:33:24,153 [10] ERROR Portal.Modules.OrientalSails.Web.Admin.BookingReport [(null)] <(null)> - Error when Page_load in BookingList
Castle.Services.Transaction.CommitResourceException: Could not commit transaction, one (or more) of the resources failed ---> NHibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: Portal.Modules.OrientalSails.Domain.SailExpense
   at NHibernate.Impl.SessionImpl.ThrowTransientObjectException(Object obj)
   at NHibernate.Impl.SessionImpl.GetEntityIdentifierIfNotUnsaved(Object obj)
   at NHibernate.Type.EntityType.GetIdentifier(Object value, ISessionImplementor session)
   at NHibernate.Type.ManyToOneType.IsDirty(Object old, Object current, Boolean[] checkable, ISessionImplementor session)
   at NHibernate.Type.TypeFactory.FindDirty(StandardProperty[] properties, Object[] x, Object[] y, Boolean[][] includeColumns, Boolean anyUninitializedProperties, ISessionImplementor session)
   at NHibernate.Persister.Entity.AbstractEntityPersister.FindDirty(Object[] x, Object[] y, Object obj, ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.FlushEntity(Object obj, EntityEntry entry)
   at NHibernate.Impl.SessionImpl.FlushEntities()
   at NHibernate.Impl.SessionImpl.FlushEverything()
   at NHibernate.Impl.SessionImpl.Flush()
   at NHibernate.Transaction.AdoTransaction.Commit()
   at Castle.Facilities.NHibernateIntegration.Internal.ResourceAdapter.Commit()
   at Castle.Services.Transaction.AbstractTransaction.Commit()
   --- End of inner exception stack trace ---
   at Castle.Services.Transaction.AbstractTransaction.Commit()
   at Castle.Services.Transaction.StandardTransaction.Commit()
   at Castle.Facilities.AutomaticTransactionManagement.TransactionInterceptor.Intercept(IInvocation invocation)
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at ICommonDaoProxyb2ac073f2ef649c992d9533d43471378.SaveOrUpdateObject(Object obj)
   at Portal.Modules.OrientalSails.SailsModule.SaveOrUpdate(Object obj)
   at Portal.Modules.OrientalSails.Domain.SailExpense.Calculate(IList costTypes, GetCurrentCostTable costTable, GetCurrentDailyCostTable dailyTable, GetCurrentCruiseExpenseTable getCruiseTable, Cruise activecruise, IList bookings, SailsModule module, Boolean partnership)
   at Portal.Modules.OrientalSails.Domain.SailExpense.Calculate(IList costTypes, GetCurrentCostTable costTable, GetCurrentDailyCostTable dailyTable, GetCurrentCruiseExpenseTable getCruiseTable, Cruise activecruise, IList bookings, SailsModule module, Boolean partnership)
   at Portal.Modules.OrientalSails.Web.Util.ExpenseCalculator.ExpenseCalculate(RepeaterItemEventArgs e, SailExpense expenses)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.LoadService(DateTime date)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.GetData(IList& list, Boolean loadService)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.GetDataSource()
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.Page_Load(Object sender, EventArgs e)
2010-10-20 11:33:34,967 [8] ERROR Portal.Modules.OrientalSails.Web.Admin.BookingReport [(null)] <(null)> - Error when Page_load in BookingList
Castle.Services.Transaction.CommitResourceException: Could not commit transaction, one (or more) of the resources failed ---> NHibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: Portal.Modules.OrientalSails.Domain.SailExpense
   at NHibernate.Impl.SessionImpl.ThrowTransientObjectException(Object obj)
   at NHibernate.Impl.SessionImpl.GetEntityIdentifierIfNotUnsaved(Object obj)
   at NHibernate.Type.EntityType.GetIdentifier(Object value, ISessionImplementor session)
   at NHibernate.Type.ManyToOneType.IsDirty(Object old, Object current, Boolean[] checkable, ISessionImplementor session)
   at NHibernate.Type.TypeFactory.FindDirty(StandardProperty[] properties, Object[] x, Object[] y, Boolean[][] includeColumns, Boolean anyUninitializedProperties, ISessionImplementor session)
   at NHibernate.Persister.Entity.AbstractEntityPersister.FindDirty(Object[] x, Object[] y, Object obj, ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.FlushEntity(Object obj, EntityEntry entry)
   at NHibernate.Impl.SessionImpl.FlushEntities()
   at NHibernate.Impl.SessionImpl.FlushEverything()
   at NHibernate.Impl.SessionImpl.Flush()
   at NHibernate.Transaction.AdoTransaction.Commit()
   at Castle.Facilities.NHibernateIntegration.Internal.ResourceAdapter.Commit()
   at Castle.Services.Transaction.AbstractTransaction.Commit()
   --- End of inner exception stack trace ---
   at Castle.Services.Transaction.AbstractTransaction.Commit()
   at Castle.Services.Transaction.StandardTransaction.Commit()
   at Castle.Facilities.AutomaticTransactionManagement.TransactionInterceptor.Intercept(IInvocation invocation)
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at ICommonDaoProxyb2ac073f2ef649c992d9533d43471378.SaveOrUpdateObject(Object obj)
   at Portal.Modules.OrientalSails.SailsModule.SaveOrUpdate(Object obj)
   at Portal.Modules.OrientalSails.Domain.SailExpense.Calculate(IList costTypes, GetCurrentCostTable costTable, GetCurrentDailyCostTable dailyTable, GetCurrentCruiseExpenseTable getCruiseTable, Cruise activecruise, IList bookings, SailsModule module, Boolean partnership)
   at Portal.Modules.OrientalSails.Domain.SailExpense.Calculate(IList costTypes, GetCurrentCostTable costTable, GetCurrentDailyCostTable dailyTable, GetCurrentCruiseExpenseTable getCruiseTable, Cruise activecruise, IList bookings, SailsModule module, Boolean partnership)
   at Portal.Modules.OrientalSails.Web.Util.ExpenseCalculator.ExpenseCalculate(RepeaterItemEventArgs e, SailExpense expenses)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.LoadService(DateTime date)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.GetData(IList& list, Boolean loadService)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.GetDataSource()
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.Page_Load(Object sender, EventArgs e)
2010-10-20 14:10:50,738 [10] ERROR Portal.Modules.OrientalSails.Web.Admin.BookingReport [(null)] <(null)> - Error when Page_load in BookingList
Castle.Services.Transaction.CommitResourceException: Could not commit transaction, one (or more) of the resources failed ---> NHibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: Portal.Modules.OrientalSails.Domain.SailExpense
   at NHibernate.Impl.SessionImpl.ThrowTransientObjectException(Object obj)
   at NHibernate.Impl.SessionImpl.GetEntityIdentifierIfNotUnsaved(Object obj)
   at NHibernate.Type.EntityType.GetIdentifier(Object value, ISessionImplementor session)
   at NHibernate.Type.ManyToOneType.IsDirty(Object old, Object current, Boolean[] checkable, ISessionImplementor session)
   at NHibernate.Type.TypeFactory.FindDirty(StandardProperty[] properties, Object[] x, Object[] y, Boolean[][] includeColumns, Boolean anyUninitializedProperties, ISessionImplementor session)
   at NHibernate.Persister.Entity.AbstractEntityPersister.FindDirty(Object[] x, Object[] y, Object obj, ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.FlushEntity(Object obj, EntityEntry entry)
   at NHibernate.Impl.SessionImpl.FlushEntities()
   at NHibernate.Impl.SessionImpl.FlushEverything()
   at NHibernate.Impl.SessionImpl.Flush()
   at NHibernate.Transaction.AdoTransaction.Commit()
   at Castle.Facilities.NHibernateIntegration.Internal.ResourceAdapter.Commit()
   at Castle.Services.Transaction.AbstractTransaction.Commit()
   --- End of inner exception stack trace ---
   at Castle.Services.Transaction.AbstractTransaction.Commit()
   at Castle.Services.Transaction.StandardTransaction.Commit()
   at Castle.Facilities.AutomaticTransactionManagement.TransactionInterceptor.Intercept(IInvocation invocation)
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at ICommonDaoProxy3ec6b16e81ba42c8968283d25fa1fa3f.SaveOrUpdateObject(Object obj)
   at Portal.Modules.OrientalSails.SailsModule.SaveOrUpdate(Object obj)
   at Portal.Modules.OrientalSails.Domain.SailExpense.Calculate(IList costTypes, GetCurrentCostTable costTable, GetCurrentDailyCostTable dailyTable, GetCurrentCruiseExpenseTable getCruiseTable, Cruise activecruise, IList bookings, SailsModule module, Boolean partnership)
   at Portal.Modules.OrientalSails.Domain.SailExpense.Calculate(IList costTypes, GetCurrentCostTable costTable, GetCurrentDailyCostTable dailyTable, GetCurrentCruiseExpenseTable getCruiseTable, Cruise activecruise, IList bookings, SailsModule module, Boolean partnership)
   at Portal.Modules.OrientalSails.Web.Util.ExpenseCalculator.ExpenseCalculate(RepeaterItemEventArgs e, SailExpense expenses)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.LoadService(DateTime date)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.GetData(IList& list, Boolean loadService)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.GetDataSource()
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.Page_Load(Object sender, EventArgs e)
2010-10-20 14:11:05,405 [8] ERROR Portal.Modules.OrientalSails.Web.Admin.BookingReport [(null)] <(null)> - Error when Page_load in BookingList
Castle.Services.Transaction.CommitResourceException: Could not commit transaction, one (or more) of the resources failed ---> NHibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: Portal.Modules.OrientalSails.Domain.SailExpense
   at NHibernate.Impl.SessionImpl.ThrowTransientObjectException(Object obj)
   at NHibernate.Impl.SessionImpl.GetEntityIdentifierIfNotUnsaved(Object obj)
   at NHibernate.Type.EntityType.GetIdentifier(Object value, ISessionImplementor session)
   at NHibernate.Type.ManyToOneType.IsDirty(Object old, Object current, Boolean[] checkable, ISessionImplementor session)
   at NHibernate.Type.TypeFactory.FindDirty(StandardProperty[] properties, Object[] x, Object[] y, Boolean[][] includeColumns, Boolean anyUninitializedProperties, ISessionImplementor session)
   at NHibernate.Persister.Entity.AbstractEntityPersister.FindDirty(Object[] x, Object[] y, Object obj, ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.FlushEntity(Object obj, EntityEntry entry)
   at NHibernate.Impl.SessionImpl.FlushEntities()
   at NHibernate.Impl.SessionImpl.FlushEverything()
   at NHibernate.Impl.SessionImpl.Flush()
   at NHibernate.Transaction.AdoTransaction.Commit()
   at Castle.Facilities.NHibernateIntegration.Internal.ResourceAdapter.Commit()
   at Castle.Services.Transaction.AbstractTransaction.Commit()
   --- End of inner exception stack trace ---
   at Castle.Services.Transaction.AbstractTransaction.Commit()
   at Castle.Services.Transaction.StandardTransaction.Commit()
   at Castle.Facilities.AutomaticTransactionManagement.TransactionInterceptor.Intercept(IInvocation invocation)
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at ICommonDaoProxy3ec6b16e81ba42c8968283d25fa1fa3f.SaveOrUpdateObject(Object obj)
   at Portal.Modules.OrientalSails.SailsModule.SaveOrUpdate(Object obj)
   at Portal.Modules.OrientalSails.Domain.SailExpense.Calculate(IList costTypes, GetCurrentCostTable costTable, GetCurrentDailyCostTable dailyTable, GetCurrentCruiseExpenseTable getCruiseTable, Cruise activecruise, IList bookings, SailsModule module, Boolean partnership)
   at Portal.Modules.OrientalSails.Domain.SailExpense.Calculate(IList costTypes, GetCurrentCostTable costTable, GetCurrentDailyCostTable dailyTable, GetCurrentCruiseExpenseTable getCruiseTable, Cruise activecruise, IList bookings, SailsModule module, Boolean partnership)
   at Portal.Modules.OrientalSails.Web.Util.ExpenseCalculator.ExpenseCalculate(RepeaterItemEventArgs e, SailExpense expenses)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.LoadService(DateTime date)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.GetData(IList& list, Boolean loadService)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.GetDataSource()
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.Page_Load(Object sender, EventArgs e)
2010-10-20 14:11:35,429 [10] ERROR Portal.Modules.OrientalSails.Web.Admin.BookingReport [(null)] <(null)> - Error when Page_load in BookingList
Castle.Services.Transaction.CommitResourceException: Could not commit transaction, one (or more) of the resources failed ---> NHibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: Portal.Modules.OrientalSails.Domain.SailExpense
   at NHibernate.Impl.SessionImpl.ThrowTransientObjectException(Object obj)
   at NHibernate.Impl.SessionImpl.GetEntityIdentifierIfNotUnsaved(Object obj)
   at NHibernate.Type.EntityType.GetIdentifier(Object value, ISessionImplementor session)
   at NHibernate.Type.ManyToOneType.IsDirty(Object old, Object current, Boolean[] checkable, ISessionImplementor session)
   at NHibernate.Type.TypeFactory.FindDirty(StandardProperty[] properties, Object[] x, Object[] y, Boolean[][] includeColumns, Boolean anyUninitializedProperties, ISessionImplementor session)
   at NHibernate.Persister.Entity.AbstractEntityPersister.FindDirty(Object[] x, Object[] y, Object obj, ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.FlushEntity(Object obj, EntityEntry entry)
   at NHibernate.Impl.SessionImpl.FlushEntities()
   at NHibernate.Impl.SessionImpl.FlushEverything()
   at NHibernate.Impl.SessionImpl.Flush()
   at NHibernate.Transaction.AdoTransaction.Commit()
   at Castle.Facilities.NHibernateIntegration.Internal.ResourceAdapter.Commit()
   at Castle.Services.Transaction.AbstractTransaction.Commit()
   --- End of inner exception stack trace ---
   at Castle.Services.Transaction.AbstractTransaction.Commit()
   at Castle.Services.Transaction.StandardTransaction.Commit()
   at Castle.Facilities.AutomaticTransactionManagement.TransactionInterceptor.Intercept(IInvocation invocation)
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at ICommonDaoProxy3ec6b16e81ba42c8968283d25fa1fa3f.SaveOrUpdateObject(Object obj)
   at Portal.Modules.OrientalSails.SailsModule.SaveOrUpdate(Object obj)
   at Portal.Modules.OrientalSails.Domain.SailExpense.Calculate(IList costTypes, GetCurrentCostTable costTable, GetCurrentDailyCostTable dailyTable, GetCurrentCruiseExpenseTable getCruiseTable, Cruise activecruise, IList bookings, SailsModule module, Boolean partnership)
   at Portal.Modules.OrientalSails.Domain.SailExpense.Calculate(IList costTypes, GetCurrentCostTable costTable, GetCurrentDailyCostTable dailyTable, GetCurrentCruiseExpenseTable getCruiseTable, Cruise activecruise, IList bookings, SailsModule module, Boolean partnership)
   at Portal.Modules.OrientalSails.Web.Util.ExpenseCalculator.ExpenseCalculate(RepeaterItemEventArgs e, SailExpense expenses)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.LoadService(DateTime date)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.GetData(IList& list, Boolean loadService)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.GetDataSource()
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.Page_Load(Object sender, EventArgs e)
2010-10-20 14:13:28,589 [8] ERROR Portal.Modules.OrientalSails.Web.Admin.BookingReport [(null)] <(null)> - Error when Page_load in BookingList
Castle.Services.Transaction.CommitResourceException: Could not commit transaction, one (or more) of the resources failed ---> NHibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: Portal.Modules.OrientalSails.Domain.SailExpense
   at NHibernate.Impl.SessionImpl.ThrowTransientObjectException(Object obj)
   at NHibernate.Impl.SessionImpl.GetEntityIdentifierIfNotUnsaved(Object obj)
   at NHibernate.Type.EntityType.GetIdentifier(Object value, ISessionImplementor session)
   at NHibernate.Type.ManyToOneType.IsDirty(Object old, Object current, Boolean[] checkable, ISessionImplementor session)
   at NHibernate.Type.TypeFactory.FindDirty(StandardProperty[] properties, Object[] x, Object[] y, Boolean[][] includeColumns, Boolean anyUninitializedProperties, ISessionImplementor session)
   at NHibernate.Persister.Entity.AbstractEntityPersister.FindDirty(Object[] x, Object[] y, Object obj, ISessionImplementor session)
   at NHibernate.Impl.SessionImpl.FlushEntity(Object obj, EntityEntry entry)
   at NHibernate.Impl.SessionImpl.FlushEntities()
   at NHibernate.Impl.SessionImpl.FlushEverything()
   at NHibernate.Impl.SessionImpl.Flush()
   at NHibernate.Transaction.AdoTransaction.Commit()
   at Castle.Facilities.NHibernateIntegration.Internal.ResourceAdapter.Commit()
   at Castle.Services.Transaction.AbstractTransaction.Commit()
   --- End of inner exception stack trace ---
   at Castle.Services.Transaction.AbstractTransaction.Commit()
   at Castle.Services.Transaction.StandardTransaction.Commit()
   at Castle.Facilities.AutomaticTransactionManagement.TransactionInterceptor.Intercept(IInvocation invocation)
   at Castle.DynamicProxy.AbstractInvocation.Proceed()
   at ICommonDaoProxy3ec6b16e81ba42c8968283d25fa1fa3f.SaveOrUpdateObject(Object obj)
   at Portal.Modules.OrientalSails.SailsModule.SaveOrUpdate(Object obj)
   at Portal.Modules.OrientalSails.Domain.SailExpense.Calculate(IList costTypes, GetCurrentCostTable costTable, GetCurrentDailyCostTable dailyTable, GetCurrentCruiseExpenseTable getCruiseTable, Cruise activecruise, IList bookings, SailsModule module, Boolean partnership)
   at Portal.Modules.OrientalSails.Domain.SailExpense.Calculate(IList costTypes, GetCurrentCostTable costTable, GetCurrentDailyCostTable dailyTable, GetCurrentCruiseExpenseTable getCruiseTable, Cruise activecruise, IList bookings, SailsModule module, Boolean partnership)
   at Portal.Modules.OrientalSails.Web.Util.ExpenseCalculator.ExpenseCalculate(RepeaterItemEventArgs e, SailExpense expenses)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.LoadService(DateTime date)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.GetData(IList& list, Boolean loadService)
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.GetDataSource()
   at Portal.Modules.OrientalSails.Web.Admin.BookingReport.Page_Load(Object sender, EventArgs e)
